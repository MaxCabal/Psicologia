<div class="table-responsive tblUsuarios">
    <table id="tblUsuario" class="table table-bordered table-hover table-striped">
        <thead class="thead-light">
            <tr>
                <th scope="col">Rut</th>
                <th scope="col">Nombres</th>
                <th scope="col">Apellidos</th>
                <th scope="col">Fecha de nacimiento</th>
                <th scope="col">Fecha de ingreso</th>
                <th scope="col">Edad</th>
                <th scope="col">Direccion</th>
                <th scope="col">Comuna</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="usuario: ${usuarioList}">
                <td th:text="${usuario.rut}"></td>
                <td th:text="${usuario.nombres}"></td>
                <td th:text="${usuario.apellidos}"></td>
                <td th:text="${#dates.format(usuario.fecNac, 'dd/MM/yyyy')}"></td>
                <td th:text="${#dates.format(usuario.fecIngreso, 'dd/MM/yyyy')}"></td>
                <td th:text="${usuario.edad}"></td>
                <td th:text="${usuario.direccion}"></td>
                <td th:text="${usuario.comuna.comuna}"></td>
                <td>
                    <a th:href="@{'/editarUsuario/'+ ${usuario.rut}}"><i class="fas fa-edit" data-toggle="tooltip" data-placement="top" title="Editar usuario"></i></a> | 
                    <a data-toggle="modal" data-target="#modalAgregarIntervencion" th:attr="data-whatever=${usuario.rut}" href="#addBookDialog" >
                    	<i class="fa fa-stethoscope" data-toggle="tooltip" data-placement="top" title="Agregar Atencion"></i>
                    	<input name="nombreYapellido" class="datos" type="hidden" th:value="${usuario.nombres}  + ' ' +  ${usuario.apellidos}" />  |  
                    </a>
<!--                     <a href="#" data-toggle="modal" data-target="#modalVerAtenciones" th:attr="data-whatever=${usuario.rut}" ><i class="fas fa-medkit" data-toggle="tooltip" data-placement="top" title="Ver atenciones"></i></a> -->
                </td>
            </tr>
        </tbody>
    </table>
	<div class="form-group row" id="boton">
		<div class="col-lg-12 text-center">
			<button id="btnNuevoUsuario" type="button" class="btn btn-primary"><i class="fa fa-user"></i>&nbsp;Nuevo Usuario</button>
			<a th:href="@{/intervenciones}" class="btn btn-primary"> <i class="fa fa-stethoscope"></i>&nbsp;Intervenciones</a>
			<a th:href="@{/mantenedor}" class="btn btn-primary"> <i class="fa fa-archive"></i>&nbsp;Mantenedor</a>
		</div>
	</div>
</div>
<script>
	$(document).ready(function() {
	
		$('#tblUsuario').DataTable({
			"language": {
	            "url": "/json/datatable_es_es.json"
	        }
		});
		
		$("#fechanacimiento").datepicker({
			format: "dd/mm/yyyy",
		    language: "es",
		    autoclose: true,
		    todayHighlight: true
		});
		
		$("#fechacontrol").datepicker({
			format: "dd/mm/yyyy",
		    language: "es",
		    autoclose: true,
		    todayHighlight: true
		});
	});
	
	$("#btnNuevoUsuario").click( function()
          	{
     			$('#rut').prop("readonly",false);
     			$('#rut').val('');
     			$('#nombres').val('');
     			$('#apellidos').val('');
     			$('#direccion').val('');
     			$('#fechanacimiento').val('');
     			$('#fechaIngreso').val('');
     			$('#telefono').val('');
		    	$('#tabsUsuarios a[href="#ficha"]').tab('show');
          	}
     		);
</script>